<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<!-- revision 9641 -->

<sect1 id="pre-hostreqs">
  <?dbhtml filename="hostreqs.html"?>

  <title>Hostシステムで必要なもの</title>

    <para>Your host system should have the following software with the
    minimum versions indicated. This should not be an issue for most
    modern Linux distributions. Also note that many distributions will
    place software headers into separate packages, often in the form of
    <quote>&lt;package-name&gt;-devel</quote> or
    <quote>&lt;package-name&gt;-dev</quote>. Be sure to install those if
    your distribution provides them.</para>
    <para>Hostシステム(LFSを構築するためのLinux環境)では、以下ソフトウェア(および最低限必要なバージョン)が必要となります。
    最近のディストリビューションであれば問題にならないはずです。
    多くのディストリビューションでは、ヘッダーファイルを異なるパッケージに分離しています。
    例えば、<quote>&lt;package-name&gt;-devel</quote>もしくは<quote>&lt;package-name&gt;-dev</quote>のようなパッケージ名称です。
    Hostシステムとして使用するディストリビューションが、そのようにパッケージを分離しているのであれば、確実に両方をインストールしてください。</para>

   <para>Earlier versions of the listed software packages may work, but has not 
   been tested.</para>
   <para>以下に挙げたソフトウェアパッケージの古いバージョンはおそらく動作するでしょう。しかしテストはされていないので注意してください。</para>

  <itemizedlist spacing="compact">

    <listitem>
      <para><emphasis role="strong">Bash-3.2</emphasis> (/bin/sh
      should be a symbolic or hard link to bash)</para>
      <para><emphasis role="strong">Bash-3.2</emphasis> (/bin/shはbashへのシンボリックリンクまたはハードリンクであるべきです)</para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Binutils-2.17</emphasis> (Versions
      greater than &binutils-version; are not recommended as they have
      not been tested)</para>

      <para><emphasis role="strong">Binutils-2.17</emphasis> (未テストのため、バージョン &binutils-version; 以上はお勧めしません)</para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Bison-2.3</emphasis> (/usr/bin/yacc
      should be a link to bison or small script that executes bison)</para>
      <para><emphasis role="strong">Bison-2.3</emphasis> (/usr/bin/yaccはbisonへのリンクまたはbisonを実行するスクリプトであるべきです)</para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Bzip2-1.0.4</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Coreutils-6.9</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Diffutils-2.8.1</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Findutils-4.2.31</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Gawk-3.1.5</emphasis> (/usr/bin/awk
      should be a link to gawk)</para>
      <para><emphasis role="strong">Gawk-3.1.5</emphasis> (/usr/bin/awkはgawkにリンクされるべきです)</para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Gcc-4.1.2</emphasis> (Versions
      greater than &gcc-version; are not recommended as they have not
      been tested)</para>
      <para><emphasis role="strong">Gcc-4.1.2</emphasis> (未テストのため、バージョン &gcc-version; 以上はお勧めしません)</para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Glibc-2.5.1</emphasis> (Versions
      greater than &glibc-version; are not recommended as they have
      not been tested)</para>
      <para><emphasis role="strong">Glibc-2.5.1</emphasis> (未テストのため、バージョン &glibc-version; 以上はお勧めしません)</para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Grep-2.5.1a</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Gzip-1.3.12</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Linux Kernel-2.6.25</emphasis>
      (having been compiled with GCC-3.0 or greater)</para>
      <para><emphasis role="strong">Linux Kernel-2.6.25</emphasis>
      (GCC-3.0 もしくは それ以上のバージョンでコンパイルされていること)</para>

      <para>The reason for the kernel version requirement is that we specify
      that version when building <application>glibc</application> in Chapter 6
      at the recommendation of the developers.  It is also required by
      udev.</para>
      <para>カーネルのバージョンに要求がある理由は、開発者の推奨として第6章の<application>glibc</application>のビルドにて、我々がそのバージョンを指定しているからです。
      また、udevからも要求されています。</para>

      <para>If the host kernel is either earlier than 2.6.25, or it was not
      compiled using a GCC-4.1.2 (or later) compiler, you will need to replace
      the kernel with one adhering to the specifications. There are two ways
      you can go about this. First, see if your Linux vendor provides a 2.6.25.
      or lator kernel package. If so, you may wish to install it. If your
      vendor doesn't offer an acceptable kernel package, or you would prefer not to
      install it, you can compile a kernel yourself. Instructions for compiling the
      kernel and configuring the boot loader (assuming the host uses GRUB) are
      located in <xref linkend="chapter-bootable"/>.</para>
      <para>もしカーネルが2.6.25以前のものか、GCC-4.1.2以上でコンパイルされていない場合、条件に合ったものに置き換える必要があります。
      その方法として、2つのやり方があります。
      1つ目としては、Linuxベンダーが2.6.25以降のカーネルパッケージを用意してくれているか確認することです。
      そのようなパッケージが用意されているのであれば、それをインストールすればいいです。
      もし、ベンダーが条件を満たしたカーネルパッケージを提供していない場合、または2.6のカーネルパッケージをインストールしたくない場合は、カーネルを自分でコンパイルすることになります。
      カーネルのコンパイルやブートローダー(GRUBを使用すると思うが)の設定方法は、<xref linkend="chapter-bootable"/>にあります。
      </para>

    </listitem>

    <listitem>
      <para><emphasis role="strong">M4-1.4.10</emphasis></para> 
    </listitem>

    <listitem>
      <para><emphasis role="strong">Make-3.81</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Patch-2.5.4</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Perl-5.8.8</emphasis></para> 
    </listitem>

    <listitem>
      <para><emphasis role="strong">Sed-4.1.5</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Tar-1.18</emphasis></para>
    </listitem>

    <!-- Needed by the apparently broken Binutils-2.18 --> 
    <listitem> 
      <para><emphasis role="strong">Texinfo-4.9</emphasis></para> 
    </listitem>

    <listitem> 
      <para><emphasis role="strong">Xz-5.0.3</emphasis></para> 
    </listitem>

  </itemizedlist>

  <para>Note that the symlinks mentioned above are required to build an LFS
  system using the instructions contained within this book. Symlinks that 
  point to other software (such as dash, mawk, etc.) may work, but are not 
  tested or supported by the LFS development team, and may require either 
  deviation from the instructions or additional patches to some 
  packages.</para> 
  <para>このブックの手順を使用してLFSシステムを構築するためには、上記のシンボリックリンクが必要になることに留意してください。
  シンボリックリンクが、別のソフトウェア(dash、mawk等のような)を指していてもうまくいくかもしれませんが、LFS開発チームでテストされていませんし、サポートしていません。
  また、手順外のことを行う必要があったり、いくつかのパッケージに対して、追加のパッチが必要になるかもしれません。</para>

  <para id="version-check">To see whether your host system has all the appropriate versions, and 
  the ability to compile programs, run the following:</para>
  <para>あなたのホストシステムが、全て適切なバージョンのソフトウェアを持つことおよび、プログラムをコンパイルすることが可能かどうか確認するには、次を実行してください：</para>

<!--<anchor xreflabel="Version Check Script" id="version-check"/>-->
<screen role="nodump"><userinput>cat &gt; version-check.sh &lt;&lt; "EOF"
<literal>#!/bin/bash
export LC_ALL=C

# Simple script to list version numbers of critical development tools

bash --version | head -n1 | cut -d" " -f2-4
echo "/bin/sh -&gt; `readlink -f /bin/sh`"
echo -n "Binutils: "; ld --version | head -n1 | cut -d" " -f3-
bison --version | head -n1
if [ -e /usr/bin/yacc ];
  then echo "/usr/bin/yacc -&gt; `readlink -f /usr/bin/yacc`";
  else echo "yacc not found"; fi
bzip2 --version 2&gt;&amp;1 &lt; /dev/null | head -n1 | cut -d" " -f1,6-
echo -n "Coreutils: "; chown --version | head -n1 | cut -d")" -f2
diff --version | head -n1
find --version | head -n1
gawk --version | head -n1
if [ -e /usr/bin/awk ];
  then echo "/usr/bin/awk -&gt; `readlink -f /usr/bin/awk`";
  else echo "awk not found"; fi
gcc --version | head -n1
/lib/libc.so.6 | head -n1 | cut -d"," -f1
grep --version | head -n1
gzip --version | head -n1
cat /proc/version
m4 --version | head -n1
make --version | head -n1
patch --version | head -n1
echo Perl `perl -V:version`
sed --version | head -n1
tar --version | head -n1
echo "Texinfo: `makeinfo --version | head -n1`"
xz --version | head -n1
echo 'main(){}' &gt; dummy.c &amp;&amp; gcc -o dummy dummy.c
if [ -x dummy ]; then echo "Compilation OK";
  else echo "Compilation failed"; fi
rm -f dummy.c dummy
</literal>
EOF

bash version-check.sh</userinput></screen>

</sect1>
